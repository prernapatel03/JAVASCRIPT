<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="checkbox" onclick="toggle()" id="mainInp" /> Select All<br />
      <div>
      <input type="checkbox" class="input" value="bar1" /> Bar 1<br />
      <input type="checkbox" class="input" value="bar2" /> Bar 2<br />
      <input type="checkbox" class="input" value="bar3" /> Bar 3<br />
      <input type="checkbox" class="input" value="bar4" /> Bar 4<br />
    </div>
  </body>

  <script>
    let main = document.querySelector("#mainInp");

    let input = document.querySelectorAll(".input");
    
    // console.log(data)
    function toggle() {
      for (let i = 0; i < input.length; i++) {
        input[i].checked = main.checked;
      }
      
    }
    input.forEach((e , i , arr)=>{
      e.addEventListener('click' , ()=>{
        
        let data = [...arr]
             main.checked  =  data.every(e=> e.checked)
      })
    })



  </script>
</html>
